{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-03-07 10:46:03.863465",
 "css": ".print-format {\n    margin-left: -0mm !important;\n    margin-right: -0mm !important;\n    margin-top: 0mm !important;\n    margin-bottom: 0mm !important;\n    padding-top: 5mm !important;\n}\n\nbody {\n        margin: 0 !important;\n        border: 0 !important;\n        padding: 0mm 0mm 0mm !important;\n }\n      \n.data-field {\n    margin-top: 0px !important;\n    margin-bottom: 0px !important;\n}\n.print-format th {\n    vertical-align: top !important;\n    padding: 2px !important;\n}\n\n.print-format td {\n    vertical-align: top !important;\n    padding: 2px !important;\n}\n\n.print-heading {\n  display: none;\n}\n\n",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Salary Slip",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Arial",
 "font_size": 0,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n    <h2>Salary Slip<br><small>{{ doc.name }}</h2>\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<h1 class=\\\"text-center\\\" style=\\\"font-size: 22px;\\\"><b>{{ doc.company }}</b></h1>\\n<h2 class=\\\"text-center\\\">Payslip</h2>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<h1 class=\\\"text-center\\\" style=\\\"font-size: 22px;\\\"><b>{{ doc.company }}</b></h1>\\n<h2 class=\\\"text-center\\\">Payslip</h2>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"employee\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Employee ID\"}, {\"fieldname\": \"employee_name\", \"print_hide\": 0, \"label\": \"Employee Name\"}, {\"fieldname\": \"department\", \"print_hide\": 0, \"label\": \"Department\"}, {\"fieldname\": \"designation\", \"print_hide\": 0, \"label\": \"Designation\"}, {\"fieldname\": \"total_working_days\", \"print_hide\": 0, \"label\": \"Working Days\"}, {\"fieldname\": \"leave_without_pay\", \"print_hide\": 0, \"label\": \"Leave Without Pay\"}, {\"fieldname\": \"payment_days\", \"print_hide\": 0, \"label\": \"Payment Days\"}, {\"fieldname\": \"start_date\", \"print_hide\": 0, \"label\": \"Start Date\"}, {\"fieldname\": \"end_date\", \"print_hide\": 0, \"label\": \"End Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"employee\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Employee ID\"}, {\"fieldname\": \"employee_name\", \"print_hide\": 0, \"label\": \"Employee Name\"}, {\"fieldname\": \"department\", \"print_hide\": 0, \"label\": \"Department\"}, {\"fieldname\": \"designation\", \"print_hide\": 0, \"label\": \"Designation\"}, {\"fieldname\": \"total_working_days\", \"print_hide\": 0, \"label\": \"Working Days\"}, {\"fieldname\": \"leave_without_pay\", \"print_hide\": 0, \"label\": \"Leave Without Pay\"}, {\"fieldname\": \"payment_days\", \"print_hide\": 0, \"label\": \"Payment Days\"}, {\"fieldname\": \"start_date\", \"print_hide\": 0, \"label\": \"Start Date\"}, {\"fieldname\": \"end_date\", \"print_hide\": 0, \"label\": \"End Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Earnings\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<strong>Earnings</strong>\\n<table class=\\\"table table-bordered table-condensed\\\">\\n    <colgroup>\\n       <col width=\\\"5%\\\">\\n       <col width=\\\"55%\\\">\\n       <col width=\\\"40%\\\">\\n    </colgroup>\\n    <thead>\\n        <tr>\\n            <th>Sr</th>\\n            <th>Component</th>\\n            <th class=\\\"text-right\\\" data-fieldname=\\\"earnings\\\" data-fieldtype=\\\"Table\\\">Amount</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        {% for item in doc.earnings %}\\n        {% if item.do_not_include_in_total == 0 %}\\n        <tr>\\n            <td>{{ loop.index }}</td>\\n            <td>{{ item.salary_component }}</td>\\n            <td class=\\\"text-right\\\">{{ item.get_formatted(\\\"amount\\\", doc) }}\\n            </td>\\n        </tr>\\n        {% endif %}\\n        {% endfor %}\\n    </tbody>\\n        <tr>\\n            <th></th>\\n            <th>Total Earnings</th>\\n            <th class=\\\"text-right\\\">{{ doc.get_formatted(\\\"gross_pay\\\", doc) }}</th>\\n        </tr> \\n    <tfooter>\\n    </tfooter>\\n</table>\\n\\n<strong>Deductions</strong>\\n<table class=\\\"table table-bordered table-condensed\\\">\\n    <colgroup>\\n       <col width=\\\"5%\\\">\\n       <col width=\\\"55%\\\">\\n       <col width=\\\"40%\\\">\\n    </colgroup>\\n    <thead>\\n        <tr>\\n            <th>Sr</th>\\n            <th>Component</th>\\n            <th class=\\\"text-right\\\" data-fieldname=\\\"earnings\\\" data-fieldtype=\\\"Table\\\">Amount</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        {% for item in doc.deductions %}\\n        {% if item.do_not_include_in_total == 0 %}\\n        <tr>\\n            <td>{{ loop.index }}</td>\\n            <td>{{ item.salary_component }}</td>\\n            <td class=\\\"text-right\\\">{{ item.get_formatted(\\\"amount\\\", doc) }}\\n            </td>\\n        </tr>\\n        {% endif %}\\n        {% endfor %}\\n    </tbody>\\n        <tr>\\n            <th></th>\\n            <th>Total Deductions</th>\\n            <th class=\\\"text-right\\\">{{ doc.get_formatted(\\\"total_deduction\\\", doc) }}</th>\\n        </tr> \\n    <tfooter>\\n    </tfooter>\\n</table>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--{% set tot = 0 %}-->\\n<!--{% set all_loans = frappe.get_all(\\\"Staff Loan\\\", filters={\\\"applicant\\\": doc.employee, \\\"status\\\": \\\"Disbursed\\\"}, fields=[\\\"name\\\"]) %}-->\\n<!--{% for index, loan in enumerate(all_loans) %}-->\\n<!--    {% set loan_details = frappe.get_doc(\\\"Staff Loan\\\", loan.name) %}-->\\n<!--    {% set total = loan_details.loan_amount - loan_details.total_amount_paid %}-->\\n<!--    {% set tot = tot + total %}-->\\n<!--{% endfor %}-->\\n<!--Total Loan Balance: {{ frappe.format(tot, \\\"#,###.##\\\") }}-->\\n\\n<!--<br>-->\\n<!--{% set tot = 0 %}-->\\n<!--{% set all_loans = frappe.get_all(\\\"Staff Loan\\\", filters={\\\"applicant\\\": doc.employee, \\\"status\\\": \\\"Disbursed\\\"}, fields=[\\\"name\\\"]) %}-->\\n<!--{% for index, loan in enumerate(all_loans) %}-->\\n<!--    {% set loan_details = frappe.get_doc(\\\"Staff Loan\\\", loan.name) %}-->\\n<!--    {% set total = loan_details.loan_amount - loan_details.total_amount_paid %}-->\\n<!--    {% set tot = tot + total %}-->\\n<!--    {% if index == (all_loans|length - 1) %}-->\\n<!--        Total Loan Balance: {{ tot }}-->\\n<!--    {% endif %}-->\\n<!--{% endfor %}-->\\n\\n<!--<br>-->\\n{% set all_loans = frappe.db.sql(\\\"SELECT SUM(loan_amount - total_amount_paid) as balance FROM `tabStaff Loan` WHERE applicant=%s AND status='Disbursed'\\\", doc.employee) %}\\n{% set balance = all_loans[0][0] %}\\n<div class = \\\"row\\\">\\n<div class=\\\"col-xs-7\\\">\\n    <label>Total Staff Loan Balance:  </label>\\n</div>\\n<div class=\\\"col-xs-5 text-right value\\\">\\n    {{ frappe.utils.fmt_money('%0.2f'|format(balance|float|abs), currency=doc.currency) }}\\n    </div>\\n    </div>\"}, {\"fieldname\": \"net_pay\", \"print_hide\": 0, \"label\": \"Net Pay\"}, {\"fieldname\": \"total_in_words\", \"print_hide\": 0, \"label\": \"Total in words\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<strong>Earnings</strong>\\n<table class=\\\"table table-bordered table-condensed\\\">\\n    <colgroup>\\n       <col width=\\\"5%\\\">\\n       <col width=\\\"55%\\\">\\n       <col width=\\\"40%\\\">\\n    </colgroup>\\n    <thead>\\n        <tr>\\n            <th>Sr</th>\\n            <th>Component</th>\\n            <th class=\\\"text-right\\\" data-fieldname=\\\"earnings\\\" data-fieldtype=\\\"Table\\\">Amount</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        {% for item in doc.earnings %}\\n        {% if item.do_not_include_in_total == 0 %}\\n        <tr>\\n            <td>{{ loop.index }}</td>\\n            <td>{{ item.salary_component }}</td>\\n            <td class=\\\"text-right\\\">{{ item.get_formatted(\\\"amount\\\", doc) }}\\n            </td>\\n        </tr>\\n        {% endif %}\\n        {% endfor %}\\n    </tbody>\\n        <tr>\\n            <th></th>\\n            <th>Total Earnings</th>\\n            <th class=\\\"text-right\\\">{{ doc.get_formatted(\\\"gross_pay\\\", doc) }}</th>\\n        </tr> \\n    <tfooter>\\n    </tfooter>\\n</table>\\n\\n<strong>Deductions</strong>\\n<table class=\\\"table table-bordered table-condensed\\\">\\n    <colgroup>\\n       <col width=\\\"5%\\\">\\n       <col width=\\\"55%\\\">\\n       <col width=\\\"40%\\\">\\n    </colgroup>\\n    <thead>\\n        <tr>\\n            <th>Sr</th>\\n            <th>Component</th>\\n            <th class=\\\"text-right\\\" data-fieldname=\\\"earnings\\\" data-fieldtype=\\\"Table\\\">Amount</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        {% for item in doc.deductions %}\\n        {% if item.do_not_include_in_total == 0 %}\\n        <tr>\\n            <td>{{ loop.index }}</td>\\n            <td>{{ item.salary_component }}</td>\\n            <td class=\\\"text-right\\\">{{ item.get_formatted(\\\"amount\\\", doc) }}\\n            </td>\\n        </tr>\\n        {% endif %}\\n        {% endfor %}\\n    </tbody>\\n        <tr>\\n            <th></th>\\n            <th>Total Deductions</th>\\n            <th class=\\\"text-right\\\">{{ doc.get_formatted(\\\"total_deduction\\\", doc) }}</th>\\n        </tr> \\n    <tfooter>\\n    </tfooter>\\n</table>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set all_loans = frappe.db.sql(\\\"SELECT SUM(loan_amount - total_amount_paid) as balance FROM `tabStaff Loan` WHERE applicant=%s AND status='Disbursed'\\\", doc.employee) %}\\n{% set balance = all_loans[0][0] %}\\n<div class = \\\"row\\\">\\n<div class=\\\"col-xs-7\\\">\\n    <label>Total Staff Loan Balance:  </label>\\n</div>\\n<div class=\\\"col-xs-5 text-right value\\\">\\n    {{ frappe.utils.fmt_money('%0.2f'|format(balance|float|abs), currency=doc.currency) }}\\n    </div>\\n    </div>\"}, {\"fieldname\": \"net_pay\", \"print_hide\": 0, \"label\": \"Net Pay\"}, {\"fieldname\": \"total_in_words\", \"print_hide\": 0, \"label\": \"Total in words\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" data-fieldname=\\\"area\\\" data-fieldtype=\\\"Link\\\">\\n   <div class=\\\"col-xs-5\\\">\\n      <br><br><br><label>Signature:</label>\\n   </div>\\n   <div class=\\\"col-xs-7 value\\\">\\n      <br><br><br>_______________________\\n   </div>\\n</div>\"}, {\"fieldtype\": \"Column Break\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2023-03-08 02:28:35.046172",
 "modified_by": "Administrator",
 "module": "Staff Loan Management",
 "name": "Staff Loans Slip",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 1,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}